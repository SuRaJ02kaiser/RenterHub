<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RenterHub - Landlord Dashboard</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #4f46e5;
            --primary-light: #6366f1;
            --primary-dark: #4338ca;
            --secondary: #f59e0b;
            --danger: #ef4444;
            --success: #10b981;
            --gray-100: #f3f4f6;
            --gray-200: #e5e7eb;
            --gray-300: #d1d5db;
            --gray-400: #9ca3af;
            --gray-500: #6b7280;
            --gray-600: #4b5563;
            --gray-700: #374151;
            --gray-800: #1f2937;
            --gray-900: #111827;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: var(--gray-100);
            color: var(--gray-800);
            line-height: 1.6;
        }

        .container {
            display: flex;
            min-height: 100vh;
        }

        /* Sidebar */
        .sidebar {
            width: 250px;
            background-color: white;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            padding: 1.5rem;
            position: fixed;
            height: 100vh;
            transition: all 0.3s ease;
            z-index: 100;
        }

        .sidebar-header {
            display: flex;
            align-items: center;
            margin-bottom: 2rem;
        }

        .sidebar-header img {
            width: 40px;
            height: 40px;
            margin-right: 0.75rem;
        }

        .sidebar-header h2 {
            font-size: 1.25rem;
            font-weight: 600;
            color: var(--primary);
        }

        .sidebar-menu {
            list-style: none;
        }

        .sidebar-menu li {
            margin-bottom: 0.5rem;
        }

        .sidebar-menu a {
            display: flex;
            align-items: center;
            padding: 0.75rem 1rem;
            border-radius: 0.375rem;
            color: var(--gray-600);
            text-decoration: none;
            transition: all 0.2s ease;
        }

        .sidebar-menu a:hover {
            background-color: var(--gray-100);
            color: var(--primary);
        }

        .sidebar-menu a.active {
            background-color: var(--primary-light);
            color: white;
        }

        .sidebar-menu i {
            margin-right: 0.75rem;
            width: 20px;
            text-align: center;
        }

        /* Main Content */
        .main-content {
            flex: 1;
            margin-left: 250px;
            padding: 2rem;
            transition: all 0.3s ease;
        }

        /* Header */
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid var(--gray-200);
        }

        .header h1 {
            font-size: 1.75rem;
            font-weight: 600;
            color: var(--gray-800);
        }

        .user-menu {
            display: flex;
            align-items: center;
        }

        .user-menu .user-info {
            margin-right: 1rem;
            text-align: right;
        }

        .user-menu .user-name {
            font-weight: 600;
        }

        .user-menu .user-role {
            font-size: 0.875rem;
            color: var(--gray-500);
        }

        .logout-btn {
            background-color: var(--gray-100);
            color: var(--gray-700);
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 0.375rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            transition: all 0.2s ease;
        }

        .logout-btn:hover {
            background-color: var(--gray-200);
        }

        .logout-btn i {
            margin-right: 0.5rem;
        }

        /* Dashboard Sections */
        .dashboard-section {
            background-color: white;
            border-radius: 0.5rem;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
            padding: 1.5rem;
            margin-bottom: 2rem;
            display: none;
        }

        .dashboard-section.active {
            display: block;
        }

        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }

        .section-header h2 {
            font-size: 1.25rem;
            font-weight: 600;
            color: var(--gray-800);
        }

        .section-header .btn {
            background-color: var(--primary);
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 0.375rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            transition: all 0.2s ease;
        }

        .section-header .btn:hover {
            background-color: var(--primary-dark);
        }

        .section-header .btn i {
            margin-right: 0.5rem;
        }

        /* Dashboard Overview Cards */
        .overview-cards {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .overview-card {
            background-color: white;
            border-radius: 0.5rem;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
            padding: 1.5rem;
            text-align: center;
        }

        .overview-card h3 {
            font-size: 1rem;
            font-weight: 600;
            color: var(--gray-600);
            margin-bottom: 0.5rem;
        }

        .overview-card .value {
            font-size: 2rem;
            font-weight: 700;
            color: var(--primary);
            margin-bottom: 0.5rem;
        }

        .overview-card .subtext {
            font-size: 0.875rem;
            color: var(--gray-500);
        }

        /* Property Cards */
        .property-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 1.5rem;
        }

        .property-card {
            background-color: white;
            border-radius: 0.5rem;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
            padding: 1.5rem;
            border-left: 4px solid var(--primary);
            transition: all 0.2s ease;
        }

        .property-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .property-card h3 {
            font-size: 1.125rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: var(--gray-800);
        }

        .property-card p {
            color: var(--gray-600);
            margin-bottom: 1rem;
        }

        .property-card .property-meta {
            display: flex;
            justify-content: space-between;
            margin-bottom: 1rem;
        }

        .property-card .property-actions {
            display: flex;
            justify-content: space-between;
            gap: 0.5rem;
        }

        .property-card .add-tenant-btn {
            background-color: var(--primary);
            color: white;
            border: none;
            padding: 0.375rem 0.75rem;
            border-radius: 0.375rem;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .property-card .add-tenant-btn:hover {
            background-color: var(--primary-dark);
        }

        .property-card .delete-btn {
            background-color: var(--gray-100);
            color: var(--danger);
            border: none;
            padding: 0.375rem 0.75rem;
            border-radius: 0.375rem;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .property-card .delete-btn:hover {
            background-color: var(--danger);
            color: white;
        }

        /* Maintenance Requests */
        .request-filters {
            display: flex;
            gap: 0.75rem;
            margin-bottom: 1.5rem;
            flex-wrap: wrap;
        }

        .filter-btn {
            padding: 0.5rem 1rem;
            border-radius: 9999px;
            border: 1px solid var(--gray-200);
            background-color: white;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .filter-btn:hover, .filter-btn.active {
            background-color: var(--primary);
            color: white;
            border-color: var(--primary);
        }

        .request-list {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .request-card {
            background-color: white;
            border-radius: 0.5rem;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
            padding: 1.5rem;
            border-left: 4px solid;
            transition: all 0.2s ease;
        }

        .request-card.urgent {
            border-left-color: var(--danger);
        }

        .request-card.high {
            border-left-color: var(--secondary);
        }

        .request-card.medium {
            border-left-color: var(--primary);
        }

        .request-card.low {
            border-left-color: var(--success);
        }

        .request-card.completed {
            border-left-color: var(--gray-400);
            opacity: 0.8;
        }

        .request-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 1rem;
        }

        .request-title {
            font-weight: 600;
            font-size: 1.125rem;
            color: var(--gray-800);
        }

        .request-priority {
            padding: 0.25rem 0.75rem;
            border-radius: 9999px;
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
        }

        .request-priority.urgent {
            background-color: rgba(239, 68, 68, 0.1);
            color: var(--danger);
        }

        .request-priority.high {
            background-color: rgba(245, 158, 11, 0.1);
            color: var(--secondary);
        }

        .request-priority.medium {
            background-color: rgba(79, 70, 229, 0.1);
            color: var(--primary);
        }

        .request-priority.low {
            background-color: rgba(16, 185, 129, 0.1);
            color: var(--success);
        }

        .request-priority.completed {
            background-color: rgba(156, 163, 175, 0.1);
            color: var(--gray-600);
        }

        .request-status {
            padding: 0.25rem 0.75rem;
            border-radius: 9999px;
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
            background-color: rgba(79, 70, 229, 0.1);
            color: var(--primary);
        }

        .request-status.pending {
            background-color: rgba(245, 158, 11, 0.1);
            color: var(--secondary);
        }

        .request-status.in-progress {
            background-color: rgba(79, 70, 229, 0.1);
            color: var(--primary);
        }

        .request-status.completed {
            background-color: rgba(16, 185, 129, 0.1);
            color: var(--success);
        }

        .request-meta {
            display: flex;
            gap: 1.5rem;
            margin-bottom: 1rem;
            font-size: 0.875rem;
            color: var(--gray-600);
        }

        .request-meta div {
            display: flex;
            align-items: center;
        }

        .request-meta i {
            margin-right: 0.5rem;
        }

        .request-description {
            margin-bottom: 1.5rem;
            color: var(--gray-700);
        }

        .request-tenant {
            display: flex;
            align-items: center;
            margin-bottom: 1.5rem;
            padding: 1rem;
            background-color: var(--gray-100);
            border-radius: 0.375rem;
        }

        .tenant-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: var(--primary);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 1rem;
            font-weight: 600;
        }

        .tenant-info h4 {
            font-weight: 600;
            margin-bottom: 0.25rem;
        }

        .tenant-info p {
            font-size: 0.875rem;
            color: var(--gray-600);
        }

        .request-actions {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .action-buttons {
            display: flex;
            gap: 0.5rem;
        }

        .action-btn {
            padding: 0.5rem 1rem;
            border-radius: 0.375rem;
            border: none;
            cursor: pointer;
            display: flex;
            align-items: center;
            transition: all 0.2s ease;
        }

        .action-btn i {
            margin-right: 0.5rem;
        }

        .contact-btn {
            background-color: var(--gray-100);
            color: var(--gray-700);
        }

        .contact-btn:hover {
            background-color: var(--gray-200);
        }

        .respond-btn {
            background-color: var(--primary-light);
            color: white;
        }

        .respond-btn:hover {
            background-color: var(--primary);
        }

        .status-select {
            padding: 0.5rem;
            border-radius: 0.375rem;
            border: 1px solid var(--gray-300);
            background-color: white;
            cursor: pointer;
        }

        /* Tenants Section */
        .tenant-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 1.5rem;
        }

        .tenant-card {
            background-color: white;
            border-radius: 0.5rem;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
            padding: 1.5rem;
            transition: all 0.2s ease;
        }

        .tenant-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .tenant-card-header {
            display: flex;
            align-items: center;
            margin-bottom: 1rem;
        }

        .tenant-avatar-lg {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background-color: var(--primary);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 1rem;
            font-size: 1.5rem;
            font-weight: 600;
        }

        .tenant-card-info h3 {
            font-size: 1.125rem;
            font-weight: 600;
            margin-bottom: 0.25rem;
        }

        .tenant-card-info p {
            color: var(--gray-600);
            font-size: 0.875rem;
        }

        .tenant-details {
            margin-top: 1rem;
        }

        .tenant-detail {
            display: flex;
            margin-bottom: 0.75rem;
        }

        .tenant-detail i {
            width: 24px;
            color: var(--gray-500);
        }

        .tenant-detail span {
            flex: 1;
        }

        .tenant-actions {
            display: flex;
            justify-content: space-between;
            gap: 0.5rem;
            margin-top: 1rem;
        }

        .message-btn {
            background-color: var(--primary);
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 0.375rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            transition: all 0.2s ease;
        }

        .message-btn:hover {
            background-color: var(--primary-dark);
        }

        .message-btn i {
            margin-right: 0.5rem;
        }

        .delete-tenant-btn {
            background-color: var(--gray-100);
            color: var(--danger);
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 0.375rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            transition: all 0.2s ease;
        }

        .delete-tenant-btn:hover {
            background-color: var(--danger);
            color: white;
        }







        /* Modal Styles */
.modal {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.5);
    z-index: 1000;
    justify-content: center;
    align-items: center;
}

.modal-content {
    background-color: white;
    border-radius: 0.5rem;
    width: 100%;
    max-width: 500px;
    padding: 2rem;
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
}

/* Modal Header */
.modal-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1.5rem;
}

.modal-header h3 {
    font-size: 1.25rem;
    font-weight: 600;
}

.close-btn {
    background: none;
    border: none;
    font-size: 1.5rem;
    cursor: pointer;
    color: var(--gray-500);
}

/* Form Elements */
.form-group {
    margin-bottom: 1.5rem;
}

.form-group label {
    display: block;
    margin-bottom: 0.5rem;
    font-weight: 500;
    color: var(--gray-700);
}

.form-control {
    width: 100%;
    padding: 0.75rem;
    border: 1px solid var(--gray-300);
    border-radius: 0.375rem;
    font-size: 1rem;
}

.form-control:focus {
    outline: none;
    border-color: var(--primary);
    box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.1);
}

/* Modal Footer */
.modal-footer {
    display: flex;
    justify-content: flex-end;
    gap: 0.75rem;
    margin-top: 2rem;
}

/* Buttons */
.btn {
    padding: 0.75rem 1.5rem;
    border-radius: 0.375rem;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.2s ease;
}

.btn-primary {
    background-color: var(--primary);
    color: white;
    border: none;
}

.btn-primary:hover {
    background-color: var(--primary-dark);
}

.btn-secondary {
    background-color: var(--gray-100);
    color: var(--gray-700);
    border: none;
}

.btn-secondary:hover {
    background-color: var(--gray-200);
}














        /* Responsive */
        @media (max-width: 992px) {
            .sidebar {
                width: 70px;
                padding: 1rem 0.5rem;
            }
            
            .sidebar-header h2, .sidebar-menu span {
                display: none;
            }
            
            .sidebar-menu a {
                justify-content: center;
                padding: 0.75rem;
            }
            
            .sidebar-menu i {
                margin-right: 0;
                font-size: 1.25rem;
            }
            
            .main-content {
                margin-left: 70px;
            }
        }

        @media (max-width: 768px) {
            .header {
                flex-direction: column;
                align-items: flex-start;
                gap: 1rem;
            }
            
            .user-menu {
                width: 100%;
                justify-content: space-between;
            }
            
            .property-grid, .tenant-grid {
                grid-template-columns: 1fr;
            }
            
            .request-meta {
                flex-direction: column;
                gap: 0.5rem;
            }
            
            .request-actions {
                flex-direction: column;
                gap: 1rem;
                align-items: flex-start;
            }
            
            .action-buttons {
                width: 100%;
                flex-direction: column;
            }
            
            .action-btn, .status-select {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <img src="https://via.placeholder.com/40" alt="RenterHub Logo">
                <h2>RenterHub</h2>
            </div>
            <ul class="sidebar-menu">
                <li><a href="#" class="nav-link active" data-section="dashboard"><i class="fas fa-home"></i> <span>Dashboard</span></a></li>
                <li><a href="#" class="nav-link" data-section="properties"><i class="fas fa-building"></i> <span>Properties</span></a></li>
                <li><a href="#" class="nav-link" data-section="requests"><i class="fas fa-tools"></i> <span>Maintenance</span></a></li>
                <li><a href="#" class="nav-link" data-section="tenants"><i class="fas fa-users"></i> <span>Tenants</span></a></li>
            </ul>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Header -->
            <div class="header">
                <h1 id="sectionTitle">Landlord Dashboard</h1>
                <div class="user-menu">
                    <div class="user-info">
                        <div class="user-name">John Doe</div>
                        <div class="user-role">Landlord</div>
                    </div>
                    <button class="logout-btn" id="logoutBtn">
                        <i class="fas fa-sign-out-alt"></i> Logout
                    </button>
                </div>
            </div>

            <!-- Dashboard Overview Section -->
            <section class="dashboard-section active" id="dashboardSection">
                <div class="section-header">
                    <h2>Overview</h2>
                </div>
                
                <div class="overview-cards">
                    <div class="overview-card">
                        <h3>Total Properties</h3>
                        <div class="value" id="totalProperties">0</div>
                        <div class="subtext">Under Management</div>
                    </div>
                    <div class="overview-card">
                        <h3>Active Tenants</h3>
                        <div class="value" id="totalTenants">0</div>
                        <div class="subtext">Currently Renting</div>
                    </div>
                    <div class="overview-card">
                        <h3>Open Requests</h3>
                        <div class="value" id="openRequests">0</div>
                        <div class="subtext">Maintenance Needed</div>
                    </div>
                    <div class="overview-card">
                        <h3>Vacant Units</h3>
                        <div class="value" id="vacantUnits">0</div>
                        <div class="subtext">Available for Rent</div>
                    </div>
                </div>

                <div class="section-header">
                    <h3>Recent Activity</h3>
                </div>
                <div class="property-grid" id="dashboardProperties">
                    <!-- Featured properties will be added here -->
                </div>
                <br>
                <div class="request-list" id="dashboardRequests">
                    <!-- Recent requests will be added here -->
                </div>
            </section>

            <!-- Property Section -->
            <section class="dashboard-section" id="propertiesSection">
                <div class="section-header">
                    <h2>My Properties</h2>
                    <button class="btn" id="addPropertyBtn">
                        <i class="fas fa-plus"></i> Add Property
                    </button>
                </div>
                <div class="property-grid" id="propertyGrid">
                    <!-- Properties will be added here dynamically -->
                </div>
            </section>

            <!-- Maintenance Requests Section -->
            <section class="dashboard-section" id="requestsSection">
                <div class="section-header">
                    <h2>Maintenance Requests</h2>
                </div>
                <div class="request-filters">
                    <button class="filter-btn active" data-filter="all">All Requests</button>
                    <button class="filter-btn" data-filter="urgent">Urgent</button>
                    <button class="filter-btn" data-filter="high">High</button>
                    <button class="filter-btn" data-filter="medium">Medium</button>
                    <button class="filter-btn" data-filter="low">Low</button>
                    <button class="filter-btn" data-filter="completed">Completed</button>
                </div>
                <div class="request-list" id="requestList">
                    <!-- Requests will be added here dynamically -->
                </div>
            </section>

            <!-- Tenants Section -->
            <section class="dashboard-section" id="tenantsSection">
                <div class="section-header">
                    <h2>My Tenants</h2>
                    <button class="btn" id="addTenantBtn">
                        <i class="fas fa-plus"></i> Add Tenant
                    </button>
                </div>
                <div class="tenant-grid" id="tenantGrid">
                    <!-- Tenants will be added here dynamically -->
                </div>
            </section>
        </main>
    </div>

    <!-- Add Property Modal -->
    <div class="modal" id="propertyModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Add New Property</h3>
                <button class="close-btn" id="closeModal">&times;</button>
            </div>
            <form id="propertyForm">
                <div class="form-group">
                    <label for="propertyName">Property Name</label>
                    <input type="text" id="propertyName" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="propertyAddress">Address</label>
                    <input type="text" id="propertyAddress" class="form-control" required>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" id="cancelAddProperty">Cancel</button>
                    <button type="submit" class="btn btn-primary">Add Property</button>
                </div>
            </form>
        </div>
    </div>



   




<!-- Add Tenant Modal -->
<div class="modal" id="tenantModal">
    <div class="modal-content">
        <div class="modal-header">
            <h3>Add New Tenant</h3>
            <button class="close-btn" id="closeTenantModal">&times;</button>
        </div>
        <form id="tenantForm">
            <div class="form-group">
                <label for="tenantEmail">Email</label>
                <input type="email" id="tenantEmail" class="form-control" required>
            </div>
            <div class="form-group">
                <label for="tenantPhone">Phone Number</label>
                <input type="tel" id="tenantPhone" class="form-control" required>
            </div>
            <div class="form-group">
                <label for="tenantProperty">Property</label>
                <select id="tenantProperty" class="form-control" required>
                    <option value="">Select Property</option>
                    <!-- Properties will be added here dynamically -->
                </select>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" id="cancelAddTenant">Cancel</button>
                <button type="submit" class="btn btn-primary">Add Tenant</button>
            </div>
        </form>
    </div>
</div>







    <!-- Respond to Request Modal -->
    <div class="modal" id="responseModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Respond to Request</h3>
                <button class="close-btn" id="closeResponseModal">&times;</button>
            </div>
            <form id="responseForm">
                <div class="form-group">
                    <label for="responseText">Your Response</label>
                    <textarea id="responseText" class="form-control" rows="5" required></textarea>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" id="cancelResponse">Cancel</button>
                    <button type="submit" class="btn btn-primary">Send Response</button>
                </div>
            </form>
        </div>
    </div>

    <script>
        // Sample data - in a real app, this would come from an API
        let properties = [
            { id: 1, name: "Sunshine Apartments", address: "123 Main St, Anytown, USA", tenantCount: 2 },
            { id: 2, name: "Mountain View Villa", address: "456 Oak Ave, Somewhere, USA", tenantCount: 1 },
            { id: 3, name: "Downtown Loft", address: "789 Pine Rd, Anycity, USA", tenantCount: 1 }
        ];

        let tenants = [
            {
                id: 1,
                propertyId: 1,
                name: "Sarah Johnson",
                email: "sarah.johnson@example.com",
                phone: "(555) 123-4567",
                unit: "3B",
                leaseStart: "2023-01-15",
                leaseEnd: "2024-01-14",
                rentAmount: 1200,
                rentDue: "1st of each month"
            },
            {
                id: 2,
                propertyId: 2,
                name: "Michael Brown",
                email: "michael.brown@example.com",
                phone: "(555) 987-6543",
                unit: "2A",
                leaseStart: "2023-03-01",
                leaseEnd: "2024-02-28",
                rentAmount: 1500,
                rentDue: "1st of each month"
            },
            {
                id: 3,
                propertyId: 3,
                name: "Emily Davis",
                email: "emily.davis@example.com",
                phone: "(555) 456-7890",
                unit: "5C",
                leaseStart: "2022-11-01",
                leaseEnd: "2023-10-31",
                rentAmount: 1800,
                rentDue: "1st of each month"
            },
            {
                id: 4,
                propertyId: 1,
                name: "Robert Wilson",
                email: "robert.wilson@example.com",
                phone: "(555) 789-0123",
                unit: "1D",
                leaseStart: "2023-02-10",
                leaseEnd: "2024-02-09",
                rentAmount: 1100,
                rentDue: "1st of each month"
            }
        ];

        let maintenanceRequests = [
            {
                id: 1,
                propertyId: 1,
                title: "Leaking faucet in kitchen",
                description: "The kitchen faucet has been leaking constantly for the past 2 days, wasting water.",
                category: "Plumbing",
                location: "Sunshine Apartments - Unit 3B",
                time: "2023-06-15T09:30:00",
                tenant: { name: "Sarah Johnson", phone: "(555) 123-4567" },
                priority: "urgent",
                status: "pending",
                responses: []
            },
            {
                id: 2,
                propertyId: 2,
                title: "Broken window lock",
                description: "The lock on the bedroom window is broken and won't close properly.",
                category: "General Maintenance",
                location: "Mountain View Villa - Unit 2A",
                time: "2023-06-14T14:15:00",
                tenant: { name: "Michael Brown", phone: "(555) 987-6543" },
                priority: "medium",
                status: "in-progress",
                responses: []
            },
            {
                id: 3,
                propertyId: 3,
                title: "AC not cooling",
                description: "The air conditioning unit is running but not cooling the apartment.",
                category: "HVAC",
                location: "Downtown Loft - Unit 5C",
                time: "2023-06-13T11:45:00",
                tenant: { name: "Emily Davis", phone: "(555) 456-7890" },
                priority: "high",
                status: "pending",
                responses: []
            },
            {
                id: 4,
                propertyId: 1,
                title: "Painted the living room",
                description: "Completed repainting the living room as requested.",
                category: "Painting",
                location: "Sunshine Apartments - Unit 1D",
                time: "2023-06-10T16:20:00",
                tenant: { name: "Robert Wilson", phone: "(555) 789-0123" },
                priority: "completed",
                status: "completed",
                responses: [
                    { 
                                                text: "The living room has been repainted with the requested color (eggshell white). Let me know if you need anything else.",
                        date: "2023-06-12T10:15:00",
                        responder: "John Doe (Landlord)"
                    }
                ]
            }
        ];

        // DOM Elements
        const navLinks = document.querySelectorAll('.nav-link');
        const sections = document.querySelectorAll('.dashboard-section');
        const propertyGrid = document.getElementById('propertyGrid');
        const tenantGrid = document.getElementById('tenantGrid');
        const requestList = document.getElementById('requestList');
        const dashboardProperties = document.getElementById('dashboardProperties');
        const dashboardRequests = document.getElementById('dashboardRequests');
        const filterBtns = document.querySelectorAll('.filter-btn');
        const propertyModal = document.getElementById('propertyModal');
        const tenantModal = document.getElementById('tenantModal');
        const responseModal = document.getElementById('responseModal');
        const propertyForm = document.getElementById('propertyForm');
        const tenantForm = document.getElementById('tenantForm');
        const responseForm = document.getElementById('responseForm');
        const addPropertyBtn = document.getElementById('addPropertyBtn');
        const addTenantBtn = document.getElementById('addTenantBtn');
        const closeModalBtns = document.querySelectorAll('.close-btn, .btn-secondary');
        const tenantPropertySelect = document.getElementById('tenantProperty');
        const totalPropertiesEl = document.getElementById('totalProperties');
        const totalTenantsEl = document.getElementById('totalTenants');
        const openRequestsEl = document.getElementById('openRequests');
        const vacantUnitsEl = document.getElementById('vacantUnits');

        // Current active request for response modal
        let currentRequestId = null;

        // Initialize the dashboard
        function initDashboard() {
            updateOverviewStats();
            renderProperties();
            renderTenants();
            renderRequests();
            renderDashboardProperties();
            renderDashboardRequests();
            
            // Populate property dropdown in tenant modal
            updatePropertyDropdown();
        }

        // Update overview statistics
        function updateOverviewStats() {
            totalPropertiesEl.textContent = properties.length;
            totalTenantsEl.textContent = tenants.length;
            
            const openRequestsCount = maintenanceRequests.filter(
                req => req.status !== 'completed'
            ).length;
            openRequestsEl.textContent = openRequestsCount;
            
            // Calculate vacant units (simplified for demo)
            const totalUnits = properties.reduce((sum, prop) => sum + (prop.tenantCount || 0), 0);
            const occupiedUnits = tenants.length;
            vacantUnitsEl.textContent = Math.max(0, totalUnits - occupiedUnits);
        }

        // Render properties list
        function renderProperties() {
            propertyGrid.innerHTML = '';
            
            properties.forEach(property => {
                const propertyTenants = tenants.filter(t => t.propertyId === property.id);
                
                const propertyCard = document.createElement('div');
                propertyCard.className = 'property-card';
                propertyCard.innerHTML = `
                    <h3>${property.name}</h3>
                    <p>${property.address}</p>
                    <div class="property-meta">
                        <span><i class="fas fa-users"></i> ${propertyTenants.length} tenants</span>
                    </div>
                    <div class="property-actions">
                        <button class="add-tenant-btn" data-property-id="${property.id}">
                            <i class="fas fa-user-plus"></i> Add Tenant
                        </button>
                        <button class="delete-btn" data-property-id="${property.id}">
                            <i class="fas fa-trash"></i> Delete
                        </button>
                    </div>
                `;
                
                propertyGrid.appendChild(propertyCard);
            });
            
            // Add event listeners to property buttons
            document.querySelectorAll('.add-tenant-btn').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const propertyId = parseInt(e.currentTarget.dataset.propertyId);
                    openTenantModal(propertyId);
                });
            });
            
            document.querySelectorAll('.delete-btn').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const propertyId = parseInt(e.currentTarget.dataset.propertyId);
                    if (confirm('Are you sure you want to delete this property?')) {
                        deleteProperty(propertyId);
                    }
                });
            });
        }

        // Render tenants list
        function renderTenants() {
            tenantGrid.innerHTML = '';
            
            tenants.forEach(tenant => {
                const property = properties.find(p => p.id === tenant.propertyId);
                const initials = tenant.name.split(' ').map(n => n[0]).join('');
                
                const tenantCard = document.createElement('div');
                tenantCard.className = 'tenant-card';
                tenantCard.innerHTML = `
                    <div class="tenant-card-header">
                        <div class="tenant-avatar-lg">${initials}</div>
                        <div class="tenant-card-info">
                            <h3>${tenant.name}</h3>
                            <p>${property?.name || 'Unknown Property'} - Unit ${tenant.unit}</p>
                        </div>
                    </div>
                    <div class="tenant-details">
                        <div class="tenant-detail">
                            <i class="fas fa-envelope"></i>
                            <span>${tenant.email}</span>
                        </div>
                        <div class="tenant-detail">
                            <i class="fas fa-phone"></i>
                            <span>${tenant.phone}</span>
                        </div>
                        <div class="tenant-detail">
                            <i class="fas fa-calendar-alt"></i>
                            <span>Lease: ${formatDate(tenant.leaseStart)} to ${formatDate(tenant.leaseEnd)}</span>
                        </div>
                        <div class="tenant-detail">
                            <i class="fas fa-dollar-sign"></i>
                            <span>Rent: $${tenant.rentAmount} due ${tenant.rentDue}</span>
                        </div>
                    </div>
                    <div class="tenant-actions">
                        <button class="message-btn" data-tenant-id="${tenant.id}">
                            <i class="fas fa-envelope"></i> Message
                        </button>
                        <button class="delete-tenant-btn" data-tenant-id="${tenant.id}">
                            <i class="fas fa-trash"></i> Delete
                        </button>
                    </div>
                `;
                
                tenantGrid.appendChild(tenantCard);
            });
            
            // Add event listeners to tenant buttons
            document.querySelectorAll('.delete-tenant-btn').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const tenantId = parseInt(e.currentTarget.dataset.tenantId);
                    if (confirm('Are you sure you want to delete this tenant?')) {
                        deleteTenant(tenantId);
                    }
                });
            });
        }

        // Render maintenance requests
        function renderRequests(filter = 'all') {
            requestList.innerHTML = '';
            
            let filteredRequests = [...maintenanceRequests];
            
            if (filter !== 'all') {
                filteredRequests = maintenanceRequests.filter(
                    req => req.priority === filter || req.status === filter
                );
            }
            
            filteredRequests.forEach(request => {
                const property = properties.find(p => p.id === request.propertyId);
                const tenant = tenants.find(t => t.name === request.tenant.name);
                const initials = request.tenant.name.split(' ').map(n => n[0]).join('');
                
                const requestCard = document.createElement('div');
                requestCard.className = `request-card ${request.priority}`;
                requestCard.innerHTML = `
                    <div class="request-header">
                        <div class="request-title">${request.title}</div>
                        <div class="request-priority ${request.priority}">${request.priority}</div>
                    </div>
                    <div class="request-meta">
                        <div><i class="fas fa-building"></i> ${property?.name || 'Unknown Property'}</div>
                        <div><i class="fas fa-map-marker-alt"></i> ${request.location}</div>
                        <div><i class="fas fa-clock"></i> ${formatDateTime(request.time)}</div>
                    </div>
                    <div class="request-description">
                        ${request.description}
                    </div>
                    <div class="request-tenant">
                        <div class="tenant-avatar">${initials}</div>
                        <div class="tenant-info">
                            <h4>${request.tenant.name}</h4>
                            <p>${request.tenant.phone}</p>
                        </div>
                    </div>
                    <div class="request-actions">
                        <div class="action-buttons">
                            <button class="action-btn contact-btn">
                                <i class="fas fa-phone"></i> Contact
                            </button>
                            <button class="action-btn respond-btn" data-request-id="${request.id}">
                                <i class="fas fa-reply"></i> Respond
                            </button>
                        </div>
                        <select class="status-select" data-request-id="${request.id}">
                            <option value="pending" ${request.status === 'pending' ? 'selected' : ''}>Pending</option>
                            <option value="in-progress" ${request.status === 'in-progress' ? 'selected' : ''}>In Progress</option>
                            <option value="completed" ${request.status === 'completed' ? 'selected' : ''}>Completed</option>
                        </select>
                    </div>
                `;
                
                requestList.appendChild(requestCard);
            });
            
            // Add event listeners to request buttons
            document.querySelectorAll('.respond-btn').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    currentRequestId = parseInt(e.currentTarget.dataset.requestId);
                    openResponseModal();
                });
            });
            
            document.querySelectorAll('.status-select').forEach(select => {
                select.addEventListener('change', (e) => {
                    const requestId = parseInt(e.currentTarget.dataset.requestId);
                    const newStatus = e.currentTarget.value;
                    updateRequestStatus(requestId, newStatus);
                });
            });
        }

        // Render featured properties for dashboard
        function renderDashboardProperties() {
            dashboardProperties.innerHTML = '';
            
            // Show only the first 3 properties
            const featuredProperties = properties.slice(0, 3);
            
            featuredProperties.forEach(property => {
                const propertyTenants = tenants.filter(t => t.propertyId === property.id);
                
                const propertyCard = document.createElement('div');
                propertyCard.className = 'property-card';
                propertyCard.innerHTML = `
                    <h3>${property.name}</h3>
                    <p>${property.address}</p>
                    <div class="property-meta">
                        <span><i class="fas fa-users"></i> ${propertyTenants.length} tenants</span>
                    </div>
                `;
                
                dashboardProperties.appendChild(propertyCard);
            });
        }

        // Render recent requests for dashboard
        function renderDashboardRequests() {
            dashboardRequests.innerHTML = '';
            
            // Show only the first 3 requests, sorted by date
            const recentRequests = [...maintenanceRequests]
                .sort((a, b) => new Date(b.time) - new Date(a.time))
                .slice(0, 3);
            
            recentRequests.forEach(request => {
                const property = properties.find(p => p.id === request.propertyId);
                
                const requestCard = document.createElement('div');
                requestCard.className = `request-card ${request.priority}`;
                requestCard.innerHTML = `
                    <div class="request-header">
                        <div class="request-title">${request.title}</div>
                        <div class="request-priority ${request.priority}">${request.priority}</div>
                    </div>
                    <div class="request-meta">
                        <div><i class="fas fa-building"></i> ${property?.name || 'Unknown Property'}</div>
                        <div><i class="fas fa-clock"></i> ${formatDateTime(request.time)}</div>
                    </div>
                    <div class="request-status ${request.status}">
                        ${request.status.replace('-', ' ')}
                    </div>
                `;
                
                dashboardRequests.appendChild(requestCard);
            });
        }

        // Update property dropdown in tenant modal
        function updatePropertyDropdown() {
            tenantPropertySelect.innerHTML = '<option value="">Select Property</option>';
            
            properties.forEach(property => {
                const option = document.createElement('option');
                option.value = property.id;
                option.textContent = property.name;
                tenantPropertySelect.appendChild(option);
            });
        }

        // Open property modal
        function openPropertyModal() {
            propertyModal.style.display = 'flex';
            document.getElementById('propertyName').focus();
        }

        // Open tenant modal
        function openTenantModal(propertyId = null) {
            tenantModal.style.display = 'flex';
            
            if (propertyId) {
                document.getElementById('tenantProperty').value = propertyId;
            }
            
            document.getElementById('tenantName').focus();
        }

        // Open response modal
        function openResponseModal() {
            responseModal.style.display = 'flex';
            document.getElementById('responseText').focus();
        }

        // Close all modals
        function closeModals() {
            propertyModal.style.display = 'none';
            tenantModal.style.display = 'none';
            responseModal.style.display = 'none';
            
            // Reset forms
            propertyForm.reset();
            tenantForm.reset();
            responseForm.reset();
            
            currentRequestId = null;
        }

        // Add new property
        function addProperty(name, address) {
            const newProperty = {
                id: properties.length > 0 ? Math.max(...properties.map(p => p.id)) + 1 : 1,
                name,
                address,
                tenantCount: 0
            };
            
            properties.push(newProperty);
            updateOverviewStats();
            renderProperties();
            updatePropertyDropdown();
            renderDashboardProperties();
            closeModals();
        }

        // Add new tenant
        function addTenant(tenantData) {
            const newTenant = {
                id: tenants.length > 0 ? Math.max(...tenants.map(t => t.id)) + 1 : 1,
                ...tenantData
            };
            
            tenants.push(newTenant);
            
            // Update tenant count for the property
            const property = properties.find(p => p.id === parseInt(tenantData.propertyId));
            if (property) {
                property.tenantCount = (property.tenantCount || 0) + 1;
            }
            
            updateOverviewStats();
            renderTenants();
            renderProperties();
            renderDashboardProperties();
            closeModals();
        }

        // Respond to maintenance request
        function respondToRequest(requestId, responseText) {
            const request = maintenanceRequests.find(req => req.id === requestId);
            
            if (request) {
                request.responses.push({
                    text: responseText,
                    date: new Date().toISOString(),
                    responder: "John Doe (Landlord)"
                });
                
                renderRequests();
                renderDashboardRequests();
                closeModals();
            }
        }

        // Update request status
        function updateRequestStatus(requestId, newStatus) {
            const request = maintenanceRequests.find(req => req.id === requestId);
            
            if (request) {
                request.status = newStatus;
                
                if (newStatus === 'completed') {
                    request.priority = 'completed';
                }
                
                renderRequests();
                renderDashboardRequests();
                updateOverviewStats();
            }
        }

        // Delete property
        function deleteProperty(propertyId) {
            // Check if property has tenants
            const propertyTenants = tenants.filter(t => t.propertyId === propertyId);
            
            if (propertyTenants.length > 0) {
                alert('Cannot delete property with active tenants. Please remove tenants first.');
                return;
            }
            
            properties = properties.filter(p => p.id !== propertyId);
            updateOverviewStats();
            renderProperties();
            updatePropertyDropdown();
            renderDashboardProperties();
        }

        // Delete tenant
        function deleteTenant(tenantId) {
            const tenant = tenants.find(t => t.id === tenantId);
            
            if (tenant) {
                // Update tenant count for the property
                const property = properties.find(p => p.id === tenant.propertyId);
                if (property && property.tenantCount > 0) {
                    property.tenantCount--;
                }
                
                tenants = tenants.filter(t => t.id !== tenantId);
                updateOverviewStats();
                renderTenants();
                renderProperties();
                renderDashboardProperties();
            }
        }

        // Format date for display
        function formatDate(dateString) {
            const options = { year: 'numeric', month: 'short', day: 'numeric' };
            return new Date(dateString).toLocaleDateString(undefined, options);
        }

        // Format date/time for display
        function formatDateTime(dateTimeString) {
            const options = { 
                year: 'numeric', 
                month: 'short', 
                day: 'numeric',
                hour: '2-digit',
                minute: '2-digit'
            };
            return new Date(dateTimeString).toLocaleDateString(undefined, options);
        }

        // Event Listeners
        navLinks.forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                
                // Update active nav link
                navLinks.forEach(nav => nav.classList.remove('active'));
                link.classList.add('active');
                
                // Show corresponding section
                const sectionId = link.dataset.section + 'Section';
                sections.forEach(section => {
                    section.classList.remove('active');
                    if (section.id === sectionId) {
                        section.classList.add('active');
                    }
                });
                
                // Update page title
                document.getElementById('sectionTitle').textContent = 
                    link.querySelector('span').textContent + (link.dataset.section === 'dashboard' ? '' : ' Management');
            });
        });

        filterBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                filterBtns.forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                renderRequests(btn.dataset.filter);
            });
        });

        addPropertyBtn.addEventListener('click', openPropertyModal);
        addTenantBtn.addEventListener('click', () => openTenantModal());

        closeModalBtns.forEach(btn => {
            btn.addEventListener('click', closeModals);
        });

        propertyForm.addEventListener('submit', (e) => {
            e.preventDefault();
            const name = document.getElementById('propertyName').value;
            const address = document.getElementById('propertyAddress').value;
            addProperty(name, address);
        });

        tenantForm.addEventListener('submit', (e) => {
            e.preventDefault();
            const tenantData = {
                propertyId: parseInt(document.getElementById('tenantProperty').value),
                name: document.getElementById('tenantName').value,
                email: document.getElementById('tenantEmail').value,
                phone: document.getElementById('tenantPhone').value,
                unit: document.getElementById('tenantUnit').value,
                leaseStart: document.getElementById('leaseStart').value,
                leaseEnd: document.getElementById('leaseEnd').value,
                rentAmount: parseFloat(document.getElementById('rentAmount').value),
                rentDue: "1st of each month"
            };
            addTenant(tenantData);
        });

        responseForm.addEventListener('submit', (e) => {
            e.preventDefault();
            const responseText = document.getElementById('responseText').value;
            respondToRequest(currentRequestId, responseText);
        });

        // Close modal when clicking outside content
        window.addEventListener('click', (e) => {
            if (e.target === propertyModal || e.target === tenantModal || e.target === responseModal) {
                closeModals();
            }
        });

        // Initialize the dashboard when DOM is loaded
        document.addEventListener('DOMContentLoaded', initDashboard);
    </script>
</body>
</html>